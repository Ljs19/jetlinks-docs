# 通知模板

## 应用场景

<div class='explanation primary'>
  <p class='explanation-title-warp'>
    <span class='iconfont icon-bangzhu explanation-icon'></span>
    <span class='explanation-title font-weight'>说明</span>
  </p>
    配置通知模板内的参数及内容，在对应的通知配置中选择配置完成的模板，之后可在场景联动的执行动作中被引用，完成通知功能
</div>



## 指导介绍

  <p>1. <a href="/dev-guide/notification-template.html#可配置的模板类型">可配置的模板类型</a> </p>
  <p>2. <a href="/dev-guide/notification-template.html#新增模板">新增模板</a> </p>
  <p>3. <a href="/dev-guide/notification-template.html#模板参数说明">模板参数说明</a></p>
  <p>4. <a href="/dev-guide/notification-template.html#编辑模板">编辑模板</a></p>
  <p>5. <a href="/dev-guide/notification-template.html#调试模板">调试模板</a></p> 
  <p>6. <a href="/dev-guide/notification-template.html#通知记录">通知记录</a></p>



## 可配置的模板类型

| 通知模板 | 类型                                         |
| -------- | -------------------------------------------- |
| 钉钉     | 钉钉消息群<br>机器人消息                     |
| 微信     | 企业消息                                     |
| 邮件     | 内置163、126、qq等类型<br>自定义其他邮件类型 |
| 语音     | 阿里云语音                                   |
| 短信     | 阿里云短信                                   |
| webhook  | 自定义webhook地址                            |



## 新增模板

<p>1.<b>登录</b>Jetlinks物联网平台。<br>
2.在左侧导航栏，选择<b>通知管理>通知模板</b>，进入卡片页。</p>


![通知模板页面](./images/notification-template-page.png)

<p>3.点击<b>新增</b>按钮，在详情页中填写通知模板信息，然后点击<b>保存</b>。</p>

![新增邮件通知模板](./images/notification-template-email.png)



## 模板参数说明

#### 钉钉通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板命名，最多可输入64个字符                           |
| 类型     | 定义通知类型，根据类型的不同展示关联的配置参数项。现支持钉钉消息和群机器人消息。使用钉钉群机器人消息通知时需在钉钉开放平台中创建好对应的机器人，再到钉钉客户端对应的群中绑定智能机器人。 |
| 绑定配置 | 使用固定的通知配置来发送此通知模版。                         |
| AgentID  | 应用唯一标识，获取路径：“钉钉开放平台”--“应用开发”--“查看应用”。 |
| 收信部门 | 定义用于接收此模板通知的部门，非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 收信人   | 定义用于接收此模板通知的收信人，非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 模板内容 | 定义通知模板的具体通知内容。支持填写带变量的动态模板。 变量填写规范示例：${name}。 填写动态参数后，可对变量的名称、类型、格式进行配置，以便调用该通知时进行填写。 |



#### 微信通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板名称，最多可输入64个字符。                         |
| 类型     | 定义通知类型，现只支持企业消息。                             |
| 绑定配置 | 使用固定的通知配置来发送此通知模版。                         |
| AgentID  | 应用唯一标识，获取路径：“企业微信”管理后台--“应用管理”--“应用”--“查看应用”。 |
| 收信部门 | 定义用于接收此模板通知的部门，非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 收信人   | 定义用于接收此模板通知的收信人，非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 标签推送 | 定义用于接收此模板通知的标签用户，非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 模板内容 | 定义通知模板的具体通知内容。支持填写带变量的动态模板。 变量填写规范示例：${name}。 填写动态参数后，可对变量的名称、类型、格式进行配置，以便调用该通知时进行填写。 |



#### 邮件通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板命名，最多可输入64个字符                           |
| 标题     | 定义邮件标题，标题支持配置变量，变量填写规范示例：${name}。  |
| 收件人   | 填写收件人信息，多个收件人用换行分隔 最大支持1000个号码。非必填。若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 附件信息 | 上传附件，附件只输入文件名称将在发送邮件时进行文件上传。     |
| 模板内容 | 定义通知模板的具体通知内容。支持填写带变量的动态模板。 变量填写规范示例：${name}。 填写动态参数后，可对变量的名称、类型、格式进行配置，以便调用该通知时进行填写。 |
| 说明     | 通知模板备注说明信息，非必填。                               |



#### 语音通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板命名，最多可输入64个字符。                         |
| 类型     | 定义通知类型，现支持阿里云语音。                             |
| 绑定配置 | 使用固定的通知配置来发送此通知模版。                         |
| 类型     | 阿里云语音通知类型，当类型为验证码类型时可配置变量。         |
| 模板ID   | 阿里云内部分配的唯一ID标识。                                 |
| 被叫号码 | 填写被叫号码，仅支持中国大陆号码。                           |
| 被叫显号 | 必须是已购买的号码,用于呼叫号码显示。                        |
| 播放次数 | 语音文件的播放次数，最多可播放3次。                          |
| 模板内容 | 定义通知模板的具体通知内容。支持填写带变量的动态模板。 变量填写规范示例：${name}。 填写动态参数后，可对变量的名称、类型、格式进行配置，以便调用该通知时进行填写。 |
| 说明     | 通知模板备注说明信息，非必填。                               |



#### 短信通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板命名，最多可输入64个字符。                         |
| 类型     | 定义通知类型，现支持阿里云短信。                             |
| 绑定配置 | 使用固定的通知配置来发送此通知模版。                         |
| 模板     | 阿里云短信平台自定义的模版名称。                             |
| 收信人   | 设置接收阿里云短信的收信人手机号，非必填，若此处不配置，则将在其他引用此模板的页面中进行配置，例如场景联动。 |
| 签名     | 用于短信内容签名信息显示，需在阿里云短信进行配置。           |
| 模板内容 | 定义通知模板的具体通知内容。支持填写带变量的动态模板。 变量填写规范示例：${name}。 填写动态参数后，可对变量的名称、类型、格式进行配置，以便调用该通知时进行填写。 |
| 说明     | 通知模板备注说明信息，非必填。                               |



#### Webhook通知模板

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 名称     | 为通知模板命名，最多可输入64个字符。                         |
| 绑定配置 | 使用固定的通知配置来发送此通知模版。                         |
| 请求体   | 选择默认，请求体中的数据来自于发送通知时指定的所有变量；选择自定义，可自定义编辑请求体内容，使用webhook通知时，系统会将该事件通过您指定的URL地址，以POST方式发送。 |
| 说明     | 通知模板备注说明信息，非必填。                               |



## 编辑模板

<p>1.<b>登录</b>Jetlinks物联网平台。<br>
2.在左侧导航栏，选择<b>通知管理>通知模板</b>，进入卡片页。<br>
3.点击具体数据的<b>编辑</b>按钮，在详情页中编辑通知模板信息，然后点击<b>保存</b>。</p>


![编辑通知模板](./images/notification-template-dingtalk.png)

<p>4.在详情页中编辑通知模板/通知配置信息，然后点击<b>保存</b>。</p>



## 调试模板

<p>1.<b>登录</b>Jetlinks物联网平台。<br>
2.在左侧导航栏，选择<b>通知管理>通知模板</b>，进入卡片页。<br>
3.点击具体数据的<b>调试</b>按钮，在弹框中填写调试信息，然后点击<b>确定</b>。</p>


![调试模板](./images/notification-template-debug.png)



## 删除模板

<p>1.<b>登录</b>Jetlinks物联网平台。<br>
2.在左侧导航栏，选择<b>通知管理>通知模板</b>，进入卡片页。<br>
3.点击具体数据的<b>删除</b>按钮，然后点击<b>确定</b>。</p>


![删除模板](./images/notification-template-delete.png)



## 通知记录

<p>1.<b>登录</b>Jetlinks物联网平台。<br>
2.在左侧导航栏，选择<b>通知管理>通知模板</b>，进入卡片页。<br>
3.点击具体数据的<b>通知记录</b>按钮。</p>

![通知记录](./images/notification-history.png)